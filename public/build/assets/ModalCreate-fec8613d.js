import{W as h,r as i,j as t}from"./app-a4dd9201.js";import l from"./BlockDivider-0db1782c.js";import{M as v}from"./Modal-9089ac78.js";import n from"./InputText-5fe68667.js";import{u as j,r as b}from"./repairStore-8fd8f1d9.js";import{A as g}from"./Autocomplete-84f8189a.js";import{T as c}from"./TextField-ceeadb51.js";import{B as S}from"./Box-171afedf.js";import{L as C}from"./LoadingButton-735155e9.js";import{B as D}from"./Button-2c9892a4.js";import"./Typography-49829012.js";import"./createTheme-2f719790.js";import"./styled-59b188df.js";import"./extendSxProp-c01ef0c7.js";import"./Modal-dae75802.js";import"./TransitionGroupContext-c7376866.js";import"./useId-8449ab89.js";import"./Container-a4618aa6.js";import"./styled-b69e3c35.js";import"./createSvgIcon-ecdeb4f6.js";import"./Menu-83c1f2c4.js";import"./vanilla-8854675d.js";import"./IconButton-73ad78d6.js";import"./ButtonBase-8d136c8e.js";const U=({open:m,handleClose:d})=>{const u=j(b).groupDevices,e=h({customer_name:"",customer_phone:"",device:"",problem_description:"",component:"",solution_description:"",price:"",cost:"",invoice:"",note:"",user_id:0}),[f,s]=i.useState(!1),x=async()=>{s(!0),await e.post("/repairs")};i.useEffect(()=>{s(e.wasSuccessful),a()},[e.wasSuccessful]),i.useEffect(()=>{s(e.processing)},[e.processing]);const a=()=>{e.reset(),d()};return i.useEffect(()=>{console.log(e.data.device)},[e.data]),t.jsxs(v,{open:m,onClose:a,title:"New repair",width:"md",children:[t.jsxs(l,{title:"Customer",children:[t.jsx(n,{label:"Name",form:e,name:"customer_name",props:{fullWidth:!0}}),t.jsx(n,{label:"Phone",form:e,name:"customer_phone",props:{fullWidth:!0}})]}),t.jsxs(l,{title:"Device",children:[t.jsx(g,{id:"free-solo-demo",fullWidth:!0,freeSolo:!0,options:u.map(o=>o.device),defaultValue:e.data.device||"",onInputChange:(o,r)=>{e.setData("device",r)},renderInput:o=>{var r,p;return t.jsx(c,{error:!!((r=e.errors)!=null&&r.device),helperText:(p=e.errors)==null?void 0:p.device,value:e.data.device||"",...o,label:"Device"})}}),t.jsx(n,{label:"Problem description",form:e,name:"problem_description",props:{fullWidth:!0}})]}),t.jsx(l,{title:"Note",children:t.jsx(c,{fullWidth:!0,multiline:!0,label:"Note",variant:"standard"})}),t.jsxs(S,{sx:{display:"flex",gap:5,flexDirection:"row"},children:[t.jsx(C,{fullWidth:!0,size:"large",color:"success",loading:f,variant:"contained",onClick:x,children:"Save"}),t.jsx(D,{fullWidth:!0,variant:"contained",onClick:a,children:"Cancel"})]})]})};export{U as default};
