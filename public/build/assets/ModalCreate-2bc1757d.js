import{W as j,r as l,j as t}from"./app-beddce8b.js";import n from"./BlockDivider-64c23951.js";import{M as b}from"./Modal-9f9f1533.js";import i from"./InputText-cb5bdcf1.js";import{u as g,r as S}from"./repairStore-2e9502da.js";import{A as _}from"./Autocomplete-3f50d121.js";import{T as u}from"./TextField-902c9dec.js";import{B as C}from"./Box-2a0e5537.js";import{L as D}from"./LoadingButton-2e26c576.js";import{B as W}from"./Button-6a927bec.js";import"./Typography-4ce1f746.js";import"./createTheme-f32bee78.js";import"./styled-fe7b6d34.js";import"./generateUtilityClasses-8dbd3f78.js";import"./extendSxProp-83c8076c.js";import"./Modal-c513949b.js";import"./TransitionGroupContext-b3f37442.js";import"./useId-7308d492.js";import"./Container-4316c3cb.js";import"./styled-33f14086.js";import"./isMuiElement-06c39a81.js";import"./Menu-fd17e589.js";import"./createSvgIcon-9d9eb473.js";import"./vanilla-8854675d.js";import"./IconButton-97952f0f.js";import"./ButtonBase-99b1f067.js";const $=({open:d,handleClose:f})=>{var p,m;const h=g(S).groupDevices,e=j({customer_name:"",customer_phone:"",customer_email:"",device:"",problem_description:"",component:"",solution_description:"",price:"",cost:"",invoice:"",note:"",user_id:0}),[x,s]=l.useState(!1),v=async()=>{s(!0),await e.post("/repairs")};l.useEffect(()=>{s(e.wasSuccessful),a()},[e.wasSuccessful]),l.useEffect(()=>{s(e.processing)},[e.processing]);const a=()=>{e.reset(),f()};return t.jsxs(b,{open:d,onClose:a,title:"New repair",width:"md",children:[t.jsxs(n,{title:"Customer",children:[t.jsx(i,{label:"Name",form:e,name:"customer_name",props:{fullWidth:!0}}),t.jsx(i,{label:"Phone",form:e,name:"customer_phone",props:{fullWidth:!0}}),t.jsx(i,{label:"Email",form:e,name:"customer_email",props:{fullWidth:!0}})]}),t.jsxs(n,{title:"Device",children:[t.jsx(_,{id:"free-solo-demo",fullWidth:!0,freeSolo:!0,options:h.map(r=>r.device),defaultValue:e.data.device||"",onInputChange:(r,o)=>{e.setData("device",o)},renderInput:r=>{var o,c;return t.jsx(u,{error:!!((o=e.errors)!=null&&o.device),helperText:(c=e.errors)==null?void 0:c.device,value:e.data.device||"",...r,label:"Device"})}}),t.jsx(i,{label:"Problem description",form:e,name:"problem_description",props:{fullWidth:!0}})]}),t.jsx(n,{title:"Note",children:t.jsx(u,{value:e.data.note||"",onChange:r=>e.setData("note",r.target.value),fullWidth:!0,id:"outlined-basic",label:"Note",error:!!((p=e.error)!=null&&p.note),helperText:(m=e.error)==null?void 0:m.note,variant:"outlined"})}),t.jsxs(C,{sx:{display:"flex",gap:5,flexDirection:"row"},children:[t.jsx(D,{fullWidth:!0,size:"large",color:"success",loading:x,variant:"contained",onClick:v,children:"Save"}),t.jsx(W,{fullWidth:!0,variant:"contained",onClick:a,children:"Cancel"})]})]})};export{$ as default};
