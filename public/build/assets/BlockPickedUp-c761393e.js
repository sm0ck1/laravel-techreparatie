import{y as S,r as i,j as e}from"./app-2228c071.js";import{d as M,a as P}from"./Check-b7a3b9ba.js";import F from"./ConfirmDialog-8b7e1793.js";import{M as O}from"./Modal-8f48e42c.js";import{u as B}from"./useMutation-2404ef3d.js";import{B as n}from"./Box-742bb19f.js";import{T as E}from"./TextField-e356d9ab.js";import{L as u}from"./LoadingButton-3f6e2ce0.js";import"./createSvgIcon-15455139.js";import"./createSvgIcon-e2e03bc9.js";import"./createTheme-dcf84243.js";import"./styled-fdc8b611.js";import"./generateUtilityClasses-96161c6c.js";import"./useId-e7280e90.js";import"./TransitionGroupContext-1e4adf20.js";import"./isMuiElement-3d2ef873.js";import"./ButtonBase-d5dccd8f.js";import"./Modal-b8baee57.js";import"./Typography-c3dc3365.js";import"./extendSxProp-a075ea99.js";import"./Button-73b0cdb9.js";import"./Container-d8f66ffa.js";import"./styled-f28284cf.js";import"./Menu-00a6b054.js";const U=()=>B({mutationFn:async({id:t,props:o})=>{try{const{data:s}=await axios.patch(route("repairs.update.picked",t),o);return Promise.resolve(s)}catch(s){return Promise.reject(s.response.data.errors)}},onSuccess:()=>{S.reload({only:["repairs"]})}}),oe=({repair:t})=>{const o="is_picked_up",[s,f]=i.useState(!1),[x,l]=i.useState(!1),[h,c]=i.useState(!1),{mutate:d,isPending:p,error:r,isError:j,isSuccess:_}=U(),[a,v]=i.useState({invoice:"",[o]:!1});i.useEffect(()=>{f(!!t[o])},[t]);const k=async()=>{t[o]?l(!0):c(!0)},y=async()=>{d({id:t.id,props:{[o]:!1,invoice:""}})},g=async()=>{d({id:t.id,props:{...a,[o]:!0}}),m()},m=()=>{c(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(O,{open:h,onClose:m,title:"Picked Up",children:e.jsxs(n,{sx:{display:"flex",gap:5,flexDirection:"column"},children:[e.jsx(n,{children:e.jsx(E,{value:a.invoice,onChange:C=>v({...a,invoice:C.target.value}),error:j,helperText:r==null?void 0:r.invoice,sx:{width:"100%"},id:"outlined-basic",label:"Invoice #",variant:"outlined"})}),e.jsx(n,{sx:{display:"flex",gap:3},children:e.jsx(u,{loading:p,variant:"contained",onClick:g,children:"Save"})})]})}),e.jsx(F,{title:"Unmarked Called?",open:x,setOpen:l,onConfirm:y,children:"Are you sure? It will be unmarked as picked up."}),e.jsx(u,{loading:p,color:s?"success":"error",size:"small",variant:"text",onClick:k,children:s?e.jsx(M,{}):e.jsx(P,{})})]})};export{oe as default};
