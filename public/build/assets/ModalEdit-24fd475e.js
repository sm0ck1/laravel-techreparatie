import{r as d,W as h,j as e,y as f}from"./app-a04bbed2.js";import{M as x}from"./Modal-58d08232.js";import{e as s}from"./editStore-d065645d.js";import o from"./BlockDivider-4ab8a986.js";import r from"./InputText-f7355b65.js";import{u as c,r as j}from"./repairStore-de3b468a.js";import{F as b,I as v,S as W}from"./TextField-42cf80b5.js";import{M as D}from"./MenuItem-40342252.js";import{B as S}from"./Box-3fd40cc8.js";import{L as _}from"./LoadingButton-3147c087.js";import{B as m}from"./Button-7abc6489.js";import"./Modal-3a668b68.js";import"./createTheme-6d13dc8e.js";import"./styled-5d21694d.js";import"./TransitionGroupContext-d26061e7.js";import"./Container-7316657f.js";import"./styled-29c99bf0.js";import"./Typography-77cf11c3.js";import"./extendSxProp-ace8c235.js";import"./vanilla-8854675d.js";import"./createSvgIcon-45990ec8.js";import"./Menu-2e5a6ace.js";import"./ButtonBase-f7e0d420.js";import"./dividerClasses-52288808.js";const U=()=>{const i=c(s),a=c(j).employees,[n,p]=d.useState(!1),t=h({customer_name:"",customer_phone:"",device:"",problem_description:"",component:"",solution_description:"",price:"",cost:"",invoice:"",note:"",user_id:0}),u=async()=>{p(!0),(await axios.patch(route("repairs.update",{repair:i.data.id}),t.data)).status===200&&f.reload({only:["repairs"]}),p(!1),s.clear()};return d.useEffect(()=>{i.edit&&t.setData(i.data)},[i.edit]),e.jsxs(x,{open:i.edit,onClose:()=>s.clear(),width:"md",title:`Edit #${i.data.id??0}`,children:[e.jsxs(o,{title:"Customer",children:[e.jsx(r,{label:"Name",form:t,name:"customer_name",props:{fullWidth:!0}}),e.jsx(r,{label:"Phone",form:t,name:"customer_phone",props:{fullWidth:!0}})]}),e.jsxs(o,{title:"Device",children:[e.jsx(r,{label:"Device name",form:t,name:"device",props:{fullWidth:!0}}),e.jsx(r,{label:"Problem description",form:t,name:"problem_description",props:{fullWidth:!0}})]}),e.jsx(o,{title:"Need to order",other:{flexDirection:"column"},children:e.jsx(r,{label:"Parts",form:t,name:"component",props:{fullWidth:!0}})}),e.jsx(o,{title:"Result of repair",other:{flexDirection:"column"},children:e.jsx(r,{label:"Description",form:t,name:"solution_description",props:{fullWidth:!0}})}),e.jsxs(o,{title:"Invoice",children:[e.jsx(r,{label:"Price",form:t,name:"price",props:{fullWidth:!0}}),e.jsx(r,{label:"Cost",form:t,name:"cost",props:{fullWidth:!0}}),e.jsx(r,{label:"Invoice",form:t,name:"invoice",props:{fullWidth:!0}})]}),a.length&&e.jsx(o,{title:"Employeer",children:e.jsxs(b,{fullWidth:!0,children:[e.jsx(v,{id:"demo-simple-select-label",children:"Employee"}),e.jsx(W,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.data.user_id||"",label:"Employee",onChange:l=>t.setData("user_id",l.target.value),children:a.map(l=>e.jsx(D,{value:l.id,children:l.name},l.id))})]})}),e.jsx(o,{title:"Note",children:e.jsx(r,{label:"Note",form:t,name:"note",props:{fullWidth:!0,multiline:!0}})}),e.jsxs(S,{sx:{display:"flex",gap:5,flexDirection:"row"},children:[e.jsx(_,{fullWidth:!0,size:"large",color:"success",loading:n,disabled:n,variant:"contained",onClick:u,children:"Save"}),e.jsx(m,{fullWidth:!0,variant:"contained",onClick:s.clear,children:"Cancel"}),e.jsx(m,{fullWidth:!0,variant:"contained",color:"error",onClick:s.clear,children:"Delete"})]})]})};export{U as default};
