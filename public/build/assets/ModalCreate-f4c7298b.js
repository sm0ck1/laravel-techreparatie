import{W as j,r as l,j as t}from"./app-8bfa598a.js";import n from"./BlockDivider-bb3bcd00.js";import{M as b}from"./Modal-4342cdca.js";import i from"./InputText-c4bd6fef.js";import{u as g,r as S}from"./repairStore-a1a24db1.js";import{A as _}from"./Autocomplete-97149aba.js";import{T as u}from"./TextField-72c6bf8f.js";import{B as C}from"./Box-c3bcb5bf.js";import{L as D}from"./LoadingButton-c952b147.js";import{B as W}from"./Button-f80121a0.js";import"./Typography-696c5318.js";import"./createTheme-428a024d.js";import"./styled-9a5592bd.js";import"./generateUtilityClasses-e7b23a81.js";import"./extendSxProp-d41d6d52.js";import"./Modal-b84eed1f.js";import"./TransitionGroupContext-5e7c6940.js";import"./useId-10c2ae54.js";import"./Container-b34a53b0.js";import"./styled-15713ffe.js";import"./isMuiElement-17093264.js";import"./Menu-6587255b.js";import"./createSvgIcon-720c9648.js";import"./vanilla-8854675d.js";import"./IconButton-9ae7adef.js";import"./ButtonBase-5a468970.js";const $=({open:d,handleClose:f})=>{var p,m;const h=g(S).groupDevices,e=j({customer_name:"",customer_phone:"",customer_email:"",device:"",problem_description:"",component:"",solution_description:"",price:"",cost:"",invoice:"",note:"",user_id:0}),[x,s]=l.useState(!1),v=async()=>{s(!0),await e.post("/repairs")};l.useEffect(()=>{s(e.wasSuccessful),a()},[e.wasSuccessful]),l.useEffect(()=>{s(e.processing)},[e.processing]);const a=()=>{e.reset(),f()};return t.jsxs(b,{open:d,onClose:a,title:"New repair",width:"md",children:[t.jsxs(n,{title:"Customer",children:[t.jsx(i,{label:"Name",form:e,name:"customer_name",props:{fullWidth:!0}}),t.jsx(i,{label:"Phone",form:e,name:"customer_phone",props:{fullWidth:!0}}),t.jsx(i,{label:"Email",form:e,name:"customer_email",props:{fullWidth:!0}})]}),t.jsxs(n,{title:"Device",children:[t.jsx(_,{id:"free-solo-demo",fullWidth:!0,freeSolo:!0,options:h.map(r=>r.device),defaultValue:e.data.device||"",onInputChange:(r,o)=>{e.setData("device",o)},renderInput:r=>{var o,c;return t.jsx(u,{error:!!((o=e.errors)!=null&&o.device),helperText:(c=e.errors)==null?void 0:c.device,value:e.data.device||"",...r,label:"Device"})}}),t.jsx(i,{label:"Problem description",form:e,name:"problem_description",props:{fullWidth:!0}})]}),t.jsx(n,{title:"Note",children:t.jsx(u,{value:e.data.note||"",onChange:r=>e.setData("note",r.target.value),fullWidth:!0,id:"outlined-basic",label:"Note",error:!!((p=e.error)!=null&&p.note),helperText:(m=e.error)==null?void 0:m.note,variant:"outlined"})}),t.jsxs(C,{sx:{display:"flex",gap:5,flexDirection:"row"},children:[t.jsx(D,{fullWidth:!0,size:"large",color:"success",loading:x,variant:"contained",onClick:v,children:"Save"}),t.jsx(W,{fullWidth:!0,variant:"contained",onClick:a,children:"Cancel"})]})]})};export{$ as default};
