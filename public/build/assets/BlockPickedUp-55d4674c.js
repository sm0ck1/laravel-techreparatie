import{r as t,j as e}from"./app-a04bbed2.js";import{d as C,a as w}from"./Check-8e69b07b.js";import _ from"./ConfirmDialog-c17414c4.js";import{h as x}from"./repairPatch-adebb806.js";import{M as b}from"./Modal-58d08232.js";import{B as n}from"./Box-3fd40cc8.js";import{T as M}from"./TextField-42cf80b5.js";import{L as h}from"./LoadingButton-3147c087.js";import"./createSvgIcon-9a7a4a4d.js";import"./createSvgIcon-45990ec8.js";import"./createTheme-6d13dc8e.js";import"./styled-5d21694d.js";import"./TransitionGroupContext-d26061e7.js";import"./ButtonBase-f7e0d420.js";import"./Modal-3a668b68.js";import"./Typography-77cf11c3.js";import"./extendSxProp-ace8c235.js";import"./Button-7abc6489.js";import"./Container-7316657f.js";import"./styled-29c99bf0.js";import"./Menu-2e5a6ace.js";const V=({repair:s})=>{const a="is_picked_up",[o,l]=t.useState(!1),[j,r]=t.useState(!1),[v,c]=t.useState(!1),[d,m]=t.useState(!1),[p,k]=t.useState({invoice:s.invoice??""});t.useEffect(()=>{l(!!s[a])},[]);const S=async()=>{s[a]?r(!0):c(!0)},u=async i=>{m(!0),await i(),l(!o),m(!1)},g=async()=>{await u(async()=>{await x(s,{[a]:!1})})},y=async()=>{await u(async()=>{await x(s,{...p,is_picked_up:!0}),f()})},f=()=>{c(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{open:v,onClose:f,title:"Set pickup",children:e.jsxs(n,{sx:{display:"flex",gap:5,flexDirection:"column"},children:[e.jsx(n,{children:e.jsx(M,{value:p.invoice,onChange:i=>k({invoice:i.target.value}),sx:{width:"100%"},id:"outlined-basic",label:"Invoice #",variant:"outlined"})}),e.jsx(n,{sx:{display:"flex",gap:3},children:e.jsx(h,{loading:d,variant:"contained",onClick:y,children:"Save"})})]})}),e.jsx(_,{title:"Unmarked Called?",open:j,setOpen:r,onConfirm:g,children:"Are you sure? It will be unmarked as picked up."}),e.jsx(h,{loading:d,color:o?"success":"error",size:"small",variant:"text",onClick:S,children:o?e.jsx(C,{}):e.jsx(w,{})})]})};export{V as default};
