import{W as v,r as s,j as r}from"./app-f2abb593.js";import a from"./BlockDivider-3c5ca88a.js";import{M as j}from"./Modal-5dae7573.js";import l from"./InputText-6c2fc536.js";import{u as b,r as g}from"./repairStore-14727e7a.js";import{A as S}from"./Autocomplete-f86b4d84.js";import{T as c}from"./TextField-b31a34e4.js";import{B as C}from"./Box-0b011bc2.js";import{L as D}from"./LoadingButton-3ee33953.js";import{B as W}from"./Button-cd0730f4.js";import"./Typography-d8ebb2f5.js";import"./createTheme-f9f94404.js";import"./styled-3a987103.js";import"./extendSxProp-2a5070d5.js";import"./Modal-33f51ea5.js";import"./TransitionGroupContext-63f58615.js";import"./useId-edbf73a4.js";import"./Container-f970a168.js";import"./styled-a73ca20e.js";import"./createSvgIcon-59ac1e7b.js";import"./Menu-c9be6819.js";import"./vanilla-8854675d.js";import"./IconButton-3ce2b7fe.js";import"./ButtonBase-032a6a52.js";import"./Popper-ea8f686f.js";const Y=({open:m,handleClose:u})=>{const d=b(g).groupDevices,e=v({customer_name:"",customer_phone:"",device:"",problem_description:"",component:"",solution_description:"",price:"",cost:"",invoice:"",note:"",user_id:0}),[f,t]=s.useState(!1),x=async()=>{t(!0),await e.post("/repairs")};s.useEffect(()=>{t(e.wasSuccessful),o()},[e.wasSuccessful]),s.useEffect(()=>{t(e.processing)},[e.processing]);const o=()=>{e.reset(),u()};return r.jsxs(j,{open:m,onClose:o,title:"New repair",width:"md",children:[r.jsxs(a,{title:"Customer",children:[r.jsx(l,{label:"Name",form:e,name:"customer_name",props:{fullWidth:!0}}),r.jsx(l,{label:"Phone",form:e,name:"customer_phone",props:{fullWidth:!0}})]}),r.jsxs(a,{title:"Device",children:[r.jsx(S,{id:"free-solo-demo",fullWidth:!0,freeSolo:!0,options:d.map(i=>i.device),renderInput:i=>{var n,p;return r.jsx(c,{error:!!((n=e.errors)!=null&&n.device),helperText:(p=e.errors)==null?void 0:p.device,value:e.data.device||"",onChange:h=>e.setData("device",h.target.value),...i,label:"Device"})}}),r.jsx(l,{label:"Problem description",form:e,name:"problem_description",props:{fullWidth:!0}})]}),r.jsx(a,{title:"Note",children:r.jsx(c,{fullWidth:!0,multiline:!0,label:"Note",variant:"standard"})}),r.jsxs(C,{sx:{display:"flex",gap:5,flexDirection:"row"},children:[r.jsx(D,{fullWidth:!0,size:"large",color:"success",loading:f,variant:"contained",onClick:x,children:"Save"}),r.jsx(W,{fullWidth:!0,variant:"contained",onClick:o,children:"Cancel"})]})]})};export{Y as default};
